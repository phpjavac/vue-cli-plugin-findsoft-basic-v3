(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8d525b4a"],{"165e":function(e,t,n){!function(t,n){e.exports=n()}(window,(function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var c=t[o]={i:o,l:!1,exports:{}};return e[o].call(c.exports,c,c.exports,n),c.l=!0,c.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)n.d(o,c,function(t){return e[t]}.bind(null,c));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),n.d(t,"WsData",(function(){return c}));var o=function(){return(o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var c in t=arguments[n])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e}).apply(this,arguments)},c=function(e){this.code=e.code,this.data=e.data,this.type=e.type||null,this.message=e.message||null},i=function(){function e(e){this.opts=null,this.ws=null,this.repeat=0,this.lockReconnect=!1,this.forbidReconnect=!1,this.pingTimeoutId=null,this.pongTimeoutId=null,this.onclose=function(){},this.onerror=function(){},this.onopen=function(){},this.onmessage=function(e,t){},this.onreconnect=function(){},this.send=function(e){this.ws.send(e)},this.sendData=function(e){this.ws.send(JSON.stringify(new c(e)))},this.close=function(){this.forbidReconnect=!0,this.heartReset(),this.ws.close()},this.heartCheck=function(){this.heartReset(),this.heartStart()},this.heartStart=function(){var e=this;this.forbidReconnect||(this.pingTimeoutId=setTimeout((function(){e.ws.send(e.opts.pingMsg),e.pongTimeoutId=setTimeout((function(){e.ws.close()}),e.opts.pongTimeout)}),this.opts.pingTimeout))},this.heartReset=function(){clearTimeout(this.pingTimeoutId),clearTimeout(this.pongTimeoutId)},this.reconnect=function(){var e=this;this.opts.repeatLimit>0&&this.opts.repeatLimit<=this.repeat||this.lockReconnect||this.forbidReconnect||(this.lockReconnect=!0,this.repeat++,this.onreconnect(),setTimeout((function(){e.createWebSocket(),e.lockReconnect=!1}),this.opts.reconnectTimeout))},this.initEventHandle=function(){var e=this;this.ws.onclose=function(){e.onclose(),e.reconnect()},this.ws.onerror=function(){e.onerror(),e.reconnect()},this.ws.onopen=function(){e.repeat=0,e.onopen()},this.ws.onmessage=function(t){if(e.heartCheck(),t.data!==e.opts.pingMsg){var n=null;try{n=function(e,t){var n="";switch(e.type){case"json":n=JSON.parse(t.data);break;case"byte":var o=new TextDecoder(e.format);n=JSON.parse(o.decode(t.data));break;default:n=t.data}return n}({type:e.opts.dataType,format:e.opts.byteFormat},t)}catch(o){n=t.data,console.warn("There is a problem with data analysis. A string of type "+e.opts.dataType+" is required, but the provided parameter is parsed incorrectly")}e.onmessage(n,t)}},this.heartCheck()},this.createWebSocket=function(){try{this.ws=new WebSocket(this.opts.url),this.initEventHandle()}catch(e){throw this.reconnect(),e}},this.opts={url:e.url,pingTimeout:e.pingTimeout||5e3,pongTimeout:e.pongTimeout||1e4,reconnectTimeout:e.reconnectTimeout||2e3,pingMsg:e.pingMsg||"{}",repeatLimit:e.repeatLimit||5,dataType:e.dataType||"json",byteFormat:e.byteFormat||"utf-8"},this.createWebSocket()}return e.getInstance=function(t){var n,c;return e.instance||(e.instance=o(o({},e.instance),((n={})[t.url]=new e(t),n))),-1===Object.keys(e.instance).indexOf(t.url)&&(e.instance=o(o({},e.instance),((c={})[t.url]=new e(t),c))),e.instance[t.url]},e}();"undefined"!=typeof window&&(window.WsHeartBeat=i),t.default=i}])}))},"7a8c":function(e,t,n){"use strict";n("8d21")},"8d21":function(e,t,n){},"99af":function(e,t,n){"use strict";var o=n("23e7"),c=n("d039"),i=n("e8b5"),r=n("861d"),s=n("7b0b"),a=n("50c4"),u=n("8418"),f=n("65f0"),d=n("1dde"),l=n("b622"),p=n("2d00"),h=l("isConcatSpreadable"),b=9007199254740991,m="Maximum allowed index exceeded",g=p>=51||!c((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),w=d("concat"),O=function(e){if(!r(e))return!1;var t=e[h];return void 0!==t?!!t:i(e)},v=!g||!w;o({target:"Array",proto:!0,forced:v},{concat:function(e){var t,n,o,c,i,r=s(this),d=f(r,0),l=0;for(t=-1,o=arguments.length;t<o;t++)if(i=-1===t?r:arguments[t],O(i)){if(c=a(i.length),l+c>b)throw TypeError(m);for(n=0;n<c;n++,l++)n in i&&u(d,l,i[n])}else{if(l>=b)throw TypeError(m);u(d,l++,i)}return d.length=l,d}})},cbf6:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("d4ec"),c=function e(){Object(o["a"])(this,e),this.analysis="",this.answer="[0]",this.id="",this.metas="[]",this.questionType=0,this.score=0,this.seq=0,this.stem=""}},f0a1:function(e,t,n){"use strict";n.r(t);var o=n("7a23"),c=Object(o["withScopeId"])("data-v-0bbd923f");Object(o["pushScopeId"])("data-v-0bbd923f");var i={class:"main"},r=Object(o["createVNode"])("div",{class:"div"},"这是列表页，主要用来显示面包屑",-1),s=Object(o["createTextVNode"])("创建ws"),a=Object(o["createTextVNode"])("点击发送ws信息xxxx"),u=Object(o["createTextVNode"])("创建与第一个ws相同的连接"),f=Object(o["createTextVNode"])("创建不同的ws连接"),d=Object(o["createTextVNode"])("关闭第二个ws");Object(o["popScopeId"])();var l=c((function(e,t,n,l,p,h){var b=Object(o["resolveComponent"])("breadcrumb"),m=Object(o["resolveComponent"])("question"),g=Object(o["resolveComponent"])("a-button");return Object(o["openBlock"])(),Object(o["createBlock"])("div",i,[Object(o["createVNode"])(b,{breadcrumb:e.breadcrumb},null,8,["breadcrumb"]),r,Object(o["createVNode"])("div",{class:"div pointer",onClick:t[1]||(t[1]=function(){return e.goInfo&&e.goInfo.apply(e,arguments)})},"点击进入详情页"),Object(o["createVNode"])("button",{onClick:t[2]||(t[2]=function(t){return e.showQuestion=!0})},"显示问题弹窗"),Object(o["createVNode"])(m,{visible:e.showQuestion,onOk:e.handleQuestionOk,onCancel:t[3]||(t[3]=function(t){return e.showQuestion=!1})},null,8,["visible","onOk"]),Object(o["createVNode"])("div",null,Object(o["toDisplayString"])(e.questionData),1),Object(o["createVNode"])(g,{onClick:t[4]||(t[4]=function(t){return e.initWs(1)})},{default:c((function(){return[s]})),_:1}),Object(o["createVNode"])(g,{onClick:e.sendData},{default:c((function(){return[a]})),_:1},8,["onClick"]),Object(o["createVNode"])(g,{onClick:t[5]||(t[5]=function(t){return e.initWs(2)})},{default:c((function(){return[u]})),_:1}),Object(o["createVNode"])(g,{onClick:t[6]||(t[6]=function(t){return e.initWs(3)})},{default:c((function(){return[f]})),_:1}),Object(o["createVNode"])(g,{onClick:t[7]||(t[7]=function(t){return e.initWs(33)})},{default:c((function(){return[d]})),_:1})])})),p=(n("99af"),n("d3b7"),n("3b18"),n("f64c")),h=(n("6ba6"),n("5efb")),b=n("cbf6"),m=n("6c02"),g=n("165e"),w=n.n(g),O=Object(o["defineComponent"])({components:{breadcrumb:Object(o["defineAsyncComponent"])((function(){return Promise.all([n.e("chunk-729befff"),n.e("chunk-42558ccd"),n.e("chunk-6c15c9aa")]).then(n.bind(null,"b6c6"))})),question:Object(o["defineAsyncComponent"])((function(){return Promise.all([n.e("chunk-729befff"),n.e("chunk-05119abe"),n.e("chunk-42558ccd"),n.e("chunk-6c2e96d4"),n.e("chunk-71ead206")]).then(n.bind(null,"8e38"))})),aButton:h["a"]},props:{},setup:function(){var e,t,n=Object(m["d"])(),c=Object(m["c"])(),i=function(){n.push("/Teacher/experimentinfo")},r=Object(o["ref"])(!1),s=new b["a"],a=function(e){Object.assign(s,e),r.value=!1},u=["ws://192.168.1.147:8080/clap/webSocketStatus?userId=pl3&classId=83faae79-fc0a-4bf6-9da2-4c4de6e1eff9&type=0","ws://192.168.1.147:8080/clap/webSocketStatus?userId=ss1&classId=5c5fe20a-61c7-4c14-b044-3f114b12a00a&type=0"],f=function(){var t=Math.random()>.5,n={code:"".concat(!!t),type:"type",message:"this is a message",data:[1,2,3]};e.sendData(n)},d=function(){e.onopen=function(){console.log("open")},e.onmessage=function(e){console.log(e,"this is ws data")},e.onerror=function(){console.log("onerror")},e.onreconnect=function(){console.log("onreconnect")}},l=function(){t.onopen=function(){console.log("open wsInstance2")},t.onmessage=function(e){console.log(e,"this is ws data wsInstance2")},t.onerror=function(){console.log("onerror wsInstance2")},t.onreconnect=function(){console.log("onreconnect wsInstance2")}},h=function(e){p["a"].success(e),console.log(e)},g=function(n){if(1===n)e=w.a.getInstance({url:u[0]}),d(),h("创建了一个ws，地址为".concat(u[0]));else if(2===n){var o=w.a.getInstance({url:u[0]});h("创建了一个ws，地址为".concat(u[0],",两个实例是否相同 ").concat(e===o))}else 3===n?(t=w.a.getInstance({url:u[1],pingMsg:"break",pingTimeout:1e3}),l(),h("创建了一个ws，地址为".concat(u[1])),console.log(t,"WsHeartBeat")):33===n&&(t.close(),console.log(t,"WsHeartBeat"))};return{breadcrumb:{breadcrumbName:"一级页面",path:c.path},showQuestion:r,questionData:s,handleQuestionOk:a,goInfo:i,initWs:g,sendData:f}}});n("7a8c");O.render=l,O.__scopeId="data-v-0bbd923f";t["default"]=O}}]);
//# sourceMappingURL=chunk-8d525b4a.1bd3137a.js.map